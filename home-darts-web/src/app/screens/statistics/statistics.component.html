<div class="screen-container">
  <h2 class="mb-24">Common statistics</h2>

  <ng-container *ngIf="isCounterAnimationsOn !== null">
    <div class="block mb-24 p-16">
      <mat-form-field class="mat-form-no-subscript w-100">
        <mat-label>Select player</mat-label>
        <mat-select [formControl]="playerControl">
          <mat-option
            *ngFor="let player of players$ | async"
            [value]="player">{{ player.username }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="common-stats-cards text-align-center mb-48">
      <div class="block p-16">
        <p class="mb-8">Games</p>
        @if (stats) {
          <h2>
            @if (isCounterAnimationsOn) {
              {{ stats.gamesCount | animated: animationPipeCallback: animationOptions | async }}
            } @else {
              {{ stats.gamesCount }}
            }
          </h2>
        } @else {
          <ngx-skeleton-loader class="stats-skeleton-loader stats-skeleton-loader_100" appearance="line" />
        }
      </div>
      <div class="block p-16">
        <p class="mb-8">Throws</p>
        @if (stats) {
          <h2>
            @if (isCounterAnimationsOn) {
              {{ stats.throwsCount | animated: animationPipeCallback: animationOptions | async }}
            } @else {
              {{ stats.throwsCount }}
            }
          </h2>
        } @else {
          <ngx-skeleton-loader class="stats-skeleton-loader stats-skeleton-loader_100" appearance="line" />
        }
      </div>
      <div class="block stats-playing-time-card p-16">
        <p class="mb-8">Playing time</p>
        @if (stats) {
          <h2>
            @if (isCounterAnimationsOn) {
              {{
                (stats.totalPlayingTimeSeconds | animated: animationPipeCallback: animationOptions | async) ?? 0
                  | formatTimeInterval
              }}
            } @else {
              {{ stats.totalPlayingTimeSeconds | formatTimeInterval }}
            }
          </h2>
        } @else {
          <ngx-skeleton-loader class="stats-skeleton-loader stats-skeleton-loader_150" appearance="line" />
        }
      </div>
    </div>

    @if (stats) {
      <hd-atc-statistics [playerId]="playerId" [stats]="stats.aroundTheClock"></hd-atc-statistics>
    } @else {
      <p>Select player</p>
    }
  </ng-container>
</div>
