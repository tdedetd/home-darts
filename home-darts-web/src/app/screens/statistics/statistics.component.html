<div class="screen-container">
  <h2 class="mb-24">Common statistics</h2>

  <ng-container *ngIf="isCounterAnimationsOn !== null">
    <div class="block mb-24 p-16">
      <mat-form-field class="mat-form-no-subscript w-100">
        <mat-label>Select player</mat-label>
        <mat-select [formControl]="playerControl">
          <mat-option
            *ngFor="let player of players$ | async"
            [value]="player">{{ player.username }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <ng-container *ngIf="stats$ | async as stats; else playerNotSelected">
      <div class="common-stats-cards text-align-center mb-48">
        <div class="block p-16">
          <p class="mb-8">Games</p>
          <h2>
            <ng-container *ngIf="isCounterAnimationsOn">
              {{ stats.gamesCount | animated: animationPipeCallback: animationOptions | async }}
            </ng-container>
            <ng-container *ngIf="!isCounterAnimationsOn">{{ stats.gamesCount }}</ng-container>
          </h2>
        </div>
        <div class="block p-16">
          <p class="mb-8">Throws</p>
          <h2>
            <ng-container *ngIf="isCounterAnimationsOn">
              {{ stats.throwsCount | animated: animationPipeCallback: animationOptions | async }}
            </ng-container>
            <ng-container *ngIf="!isCounterAnimationsOn">{{ stats.throwsCount }}</ng-container>
          </h2>
        </div>
        <div class="block stats-playing-time-card p-16">
          <p class="mb-8">Playing time</p>
          <h2>
            <ng-container *ngIf="isCounterAnimationsOn">
              {{
                (stats.totalPlayingTimeSeconds | animated: animationPipeCallback: animationOptions | async) ?? 0
                  | formatTimeInterval
              }}
            </ng-container>
            <ng-container *ngIf="!isCounterAnimationsOn">
              {{ stats.totalPlayingTimeSeconds | formatTimeInterval }}
            </ng-container>
          </h2>
        </div>
      </div>

      <hd-atc-statistics [playerId]="playerId" [stats]="stats.aroundTheClock"></hd-atc-statistics>
    </ng-container>
  </ng-container>

  <ng-template #playerNotSelected>Select player</ng-template>
</div>
